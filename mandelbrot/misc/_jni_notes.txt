#!/bin/bash

# TODO:
# reference:
#   http://davanum.wordpress.com/2007/12/09/android-invoke-jni-based-methods-bridging-cc-and-java/
# in bash do this:
#   export SDK=...
#   export TOOLCHAIN=...
#   run from mandelbrot/jni

javah -classpath $SDK/android.jar;../bin/classes; com.alfray.mandelbrot.NativeMandel

$TOOLCHAIN/bin/arm-eabi-gcc -I/usr/lib/jvm/java-1.5.0-sun/include -I/usr/lib/jvm/java-1.5.0-sun/include/linux -I/usr/include -fpic -c com_alfray_mandelbrot_NativeMandel.c
$TOOLCHAIN/bin/arm-eabi-ld -T $TOOLCHAIN/arm-eabi/lib/ldscripts/armelf.xsc -shared -o ../assets/libMandelbrot.so com_alfray_mandelbrot_NativeMandel.o
